(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[153],{97427:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pet/[id]/edit",function(){return a(93323)}])},81280:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});class r{static isEmpty(e){return!e||""===e.trim()}static isNotEmpty(e){return!r.isEmpty(e)}static valueOrEmpty(e,t){return r.isEmpty(e)?t:e}static isEmailValid(e){return!!e.trim()&&/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e)}static PasswordError(e){let t="";e.length<8&&(t="Password should be at least 8 characters long");let a=/[a-z]+/.test(e);return a||(t="Password should contain at least one lowercase character"),(a=/[A-Z]+/.test(e))||(t="Password should contain at least one uppercase character"),(a=/[0-9]+/.test(e))||(t="Password should contain at least one digit"),(a=/[!@#$%^&*.?-]+/.test(e))||(t="Password should contain at least one special character"),t}}},77546:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var r=a(85893);a(67294);var s=a(25675),i=a.n(s);function n(e){var t,a,s,n;let o=null!==(t=e.size)&&void 0!==t?t:90;return e.avatar?(0,r.jsx)(i(),{unoptimized:!0,src:e.avatar,alt:"Avatar",width:o,height:o,style:{objectFit:"cover"},className:"rounded-full aspect-square ".concat(null!==(a=e.className)&&void 0!==a?a:""),onClick:e.onCLick}):(0,r.jsx)("div",{style:{height:o,width:o},className:"aspect-square flex items-center justify-center bg-indigo-100 text-indigo-600 rounded-full text-center ".concat(null!==(s=e.textStyle)&&void 0!==s?s:"text-3xl"," font-bold ring-2 ring-indigo-500 ").concat(null!==(n=e.className)&&void 0!==n?n:""),onClick:e.onCLick,children:e.icon?e.icon:e.avatarTitle})}},31730:function(e,t,a){"use strict";var r=a(67294),s=a(33356);class i extends r.Component{constructor(...e){super(...e),this.cookies=new s.Z,this.logout=e=>{this.cookies.remove("token"),void 0!==e&&e()}}}t.Z=i},43067:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var r=a(85893),s=a(83365),i=a.n(s);function n(e){var t;let a="full"===e.width?i().btnFull:"",s=t=>{t.preventDefault(),e.onClick&&e.onClick()};return(0,r.jsx)("button",{type:e.type,className:"".concat(i().btn," ").concat(a," ").concat((()=>{if("primary"===e.variant)return e.disabled?i().btnPrimaryDisabled:i().btnPrimary;if("secondary"===e.variant)return e.disabled?i().btnSecondaryDisabled:i().btnSecondary;if("group"===e.variant){let t=e.selected?i().btnPrimary:i().btnSecondary;return"".concat(i().btnGroup," ").concat(t)}return""})()," ").concat(null!==(t=e.className)&&void 0!==t?t:""),onClick:s,disabled:e.disabled,children:e.title},e.title)}},53803:function(e,t,a){"use strict";a.d(t,{Z:function(){return c}});var r=a(85893),s=a(67294),i=a(16449),n=a.n(i),o=a(25652),l=a(6244);class c extends s.Component{render(){var e;return(0,r.jsx)("div",{id:"defaultModal",tabIndex:-1,className:"fixed flex grow ".concat((null===(e=this.state)||void 0===e?void 0:e.show)?"":"hidden"," z-50 h-screen w-full"),children:(0,r.jsx)("div",{className:n().modal,children:(0,r.jsxs)("div",{className:n().content,children:[(0,r.jsxs)("button",{type:"button",className:n().iconButton,onClick:this.props.onCancel,children:[(0,r.jsx)(o.Z,{className:"w-6 h-6"}),(0,r.jsx)("span",{className:"sr-only",children:"Close modal"})]}),(0,r.jsxs)("div",{className:"p-6 text-center",children:[(0,r.jsx)(l.Z,{className:"mx-auto mb-4 w-20 h-20 text-gray-200"}),(0,r.jsx)("h3",{className:n().message,children:this.props.message}),(0,r.jsx)("button",{onClick:this.props.onDelete,type:"button",className:n().btnDelete,children:"Yes, I'm sure"}),(0,r.jsx)("button",{onClick:this.props.onCancel,type:"button",className:n().btnCancel,children:"No, cancel"})]})]})})})}constructor(e){super(e),this.hide=()=>{this.setState({show:!1})},this.show=()=>{this.setState({show:!0})},this.state={show:!1}}}},84639:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});var r=a(85893);a(67294);var s=a(81280);function i(e){return s.Z.isNotEmpty(e.message)?(0,r.jsxs)("div",{className:"p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-slate-700 dark:text-red-400 ".concat(e.className?e.className:""),role:"alert",children:[(0,r.jsx)("span",{className:"font-medium",children:"Error :"})," ",e.message]}):(0,r.jsx)(r.Fragment,{})}},95546:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var r=a(85893);a(67294);var s=a(83815),i=a.n(s);function n(e){var t;let a="full"===e.width?i().textInputFull:"",s=t=>{let a=t.currentTarget.value;e.onInput(a)};return(0,r.jsxs)("div",{className:i().textInputContainer,children:[(0,r.jsx)("label",{htmlFor:e.id,className:e.showLabel?i().label:"sr-only",children:e.placeholder}),(0,r.jsx)("input",{required:e.required,id:e.id,name:e.name,type:e.type,max:e.max,min:e.min,autoComplete:e.autoComplete,className:"".concat(i().textInput," ").concat(a," ").concat(null!==(t=e.classNames)&&void 0!==t?t:""," ").concat(e.hasError&&i().errorHighlight),placeholder:e.placeholder,value:e.value,onInput:s,disabled:e.disabled,onBlur:e.onBlur,autoFocus:e.autoFocus,style:{colorScheme:"dark"}}),(0,r.jsx)("span",{className:i().errorMessage,children:e.hasError?e.errorMessage:""})]})}},94962:function(e,t,a){"use strict";var r,s;a.d(t,{e:function(){return i}}),(s=r||(r={})).M="M",s.F="F";class i{static getAll(){return Object.values(r)}static getEnum(e){return r[e]}static getTitle(e){let t;switch(e){case r.M:t="Male";break;case r.F:t="Female";break;default:t=""}return t}}},26585:function(e,t,a){"use strict";a.d(t,{H:function(){return r},U:function(){return s}});let r="petMinWeight",s="petMaxWeight"},10445:function(e,t,a){"use strict";function r(e,t){return fetch("".concat("https://petjournal-app-aeqg2.ondigitalocean.app/api","/pet"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e.fields)})}function s(e,t){return fetch("".concat("https://petjournal-app-aeqg2.ondigitalocean.app/api","/pet/").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}})}function i(e,t,a){return fetch("".concat("https://petjournal-app-aeqg2.ondigitalocean.app/api","/pet/").concat(t),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(e.fields)})}function n(e,t){return fetch("".concat("https://petjournal-app-aeqg2.ondigitalocean.app/api","/pet/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}})}function o(e){return fetch("".concat("https://petjournal-app-aeqg2.ondigitalocean.app/api","/pets"),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}})}a.d(t,{cu:function(){return o},jL:function(){return n},lI:function(){return s},mF:function(){return i},u8:function(){return r}})},43432:function(e,t,a){"use strict";function r(e){return fetch("".concat("https://petjournal-app-aeqg2.ondigitalocean.app/api","/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}function s(e){return fetch("".concat("https://petjournal-app-aeqg2.ondigitalocean.app/api","/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.fields)})}function i(e,t){return fetch("".concat("https://petjournal-app-aeqg2.ondigitalocean.app/api","/user"),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e.fields)})}function n(e){return fetch("".concat("https://petjournal-app-aeqg2.ondigitalocean.app/api","/user"),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}})}function o(e){return fetch("".concat("https://petjournal-app-aeqg2.ondigitalocean.app/api","/user"),{method:"DELETE",headers:{Authorization:"Bearer ".concat(e)}})}function l(){return fetch("".concat("https://petjournal-app-aeqg2.ondigitalocean.app/api","/vets"),{method:"GET",headers:{"Content-Type":"application/json"}})}a.d(t,{HN:function(){return r},iD:function(){return i},l5:function(){return o},lx:function(){return s},ui:function(){return l},wB:function(){return n}})},93323:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return E}});var r=a(85893),s=a(43067);a(67294),a(79319);var i=a(95546),n=a(83815),o=a.n(n),l=a(11163),c=a(84639),h=a(10445),d=a(94962),u=a(43432),p=a(5152),m=a.n(p),g=a(77546),v=a(81280),f=a(26585);class x{get stringify(){return JSON.stringify(this)}validate(){this.checkName(),this.checkDateOfBirth(),this.checkGender(),this.checkBreedName(),this._valid=v.Z.isEmpty(this.nameError)&&v.Z.isEmpty(this.dateOfBirthError)&&v.Z.isEmpty(this.genderError)&&v.Z.isEmpty(this.breedNameError)}get isValid(){return this._valid}get avatar(){return this._avatar}set avatar(e){this._avatar=e}get name(){return this._name}set name(e){this._name=e}get dateOfBirth(){return this._dateOfBirth}set dateOfBirth(e){this._dateOfBirth=e}get gender(){return this._gender}set gender(e){this._gender=e}get breedName(){return this._breedName}set breedName(e){this._breedName=e}get colors(){return this._colors}set colors(e){this._colors=e}get description(){return this._description}set description(e){this._description=e}get pedigree(){return this._pedigree}set pedigree(e){this._pedigree=e}get microchip(){return this._microchip}set microchip(e){this._microchip=e}get weightMin(){var e;return null===(e=this._metas)||void 0===e?void 0:e.get(f.H)}set weightMin(e){var t;null===(t=this._metas)||void 0===t||t.set(f.H,null!=e?e:"")}get weightMax(){var e;return null===(e=this._metas)||void 0===e?void 0:e.get(f.U)}set weightMax(e){var t;null===(t=this._metas)||void 0===t||t.set(f.U,null!=e?e:"")}get vetId(){return this._vetId}set vetId(e){this._vetId=e}get metas(){return this._metas}set metas(e){this._metas=e}get fields(){return{avatar:this._avatar,name:this._name,dateOfBirth:new Date(this._dateOfBirth).getTime(),gender:this._gender,breedName:this._breedName,colors:this._colors,description:this._description,pedigree:this._pedigree,microchip:this._microchip,vetId:this._vetId,metas:Object.fromEntries(this._metas)}}constructor(){this._avatar="",this._name="",this._dateOfBirth="",this._gender="",this._breedName="",this._colors=[],this._description="",this._pedigree="",this._microchip="",this._vetId="",this._metas=new Map,this.nameError="",this.dateOfBirthError="",this.genderError="",this.breedNameError="",this.hasNameError=!1,this.hasDateOfBirthError=!1,this.hasGenderError=!1,this.hasBreedNameError=!1,this._valid=!1,this.checkDateOfBirth=()=>{let e=v.Z.isEmpty(this._dateOfBirth);this.dateOfBirthError=e?"The date of birth is required":"",this.hasDateOfBirthError=e},this.checkGender=()=>{let e=v.Z.isEmpty(this._gender);this.genderError=e?"Pet gender is required":"",this.hasGenderError=e},this.checkName=()=>{let e=v.Z.isEmpty(this._name);this.nameError=e?"Name is required":"",this.hasNameError=e},this.checkBreedName=()=>{let e=v.Z.isEmpty(this._breedName);this.breedNameError=e?"Please provide a breed name":"",this.hasBreedNameError=e}}}var b=a(74201),_=a(78017),w=a(53803),y=a(31730);let N=a(68207),j=m()(()=>Promise.all([a.e(664),a.e(626)]).then(a.bind(a,62472)),{loadableGenerated:{webpack:()=>[62472]},ssr:!1});class C extends y.Z{componentDidMount(){this.getVets().catch(e=>{console.error("Could not get Vets",e),this.setState({serverError:"Could not get Vets"})})}render(){let e=this.state.vm;return(0,r.jsxs)(j,{hideNav:!0,init:this.initPage,className:"bg-[url('/register-bg-dark.jpg')] bg-contain bg-center overflow-y-auto",children:[(0,r.jsx)("div",{className:"flex items-center mx-auto my-auto bg-white dark:bg-slate-800 max-w-sm lg:max-w-xl border rounded-md border-indigo-600",children:(0,r.jsxs)("div",{className:"shadow-sm px-4 py-4",children:[(0,r.jsxs)("div",{className:"flex flex-row items-baseline justify-end",children:[(0,r.jsx)("div",{className:"flex justify-center pb-4 grow",children:(0,r.jsx)("h2",{className:"text-3xl font-bold tracking-tight text-gray-900 dark:text-indigo-100  text-center",children:"Update Pet Profile"})}),(0,r.jsx)(_.Z,{className:" h-6 w-6 text-red-500",onClick:()=>{var e;return null===(e=this.deleteDialogRef)||void 0===e?void 0:e.show()}})]}),(0,r.jsxs)("form",{className:"space-y-1 mb-3",method:"POST",onSubmit:this.onSubmit,children:[(0,r.jsxs)("div",{className:"flex py-2",children:[(0,r.jsx)("div",{className:"mx-auto",children:(0,r.jsx)(g.Z,{avatarTitle:"Add Image",avatar:this.state.vm.avatar,onCLick:()=>{var e;null===(e=this.imageInputRef)||void 0===e||e.click()},size:90,textStyle:"text-lg"})}),(0,r.jsx)("input",{ref:e=>this.imageInputRef=e,className:"sr-only",multiple:!1,type:"file",id:"avatar",name:"avatar",accept:"image/png, image/jpeg",onChange:this.onImageChange})]}),(0,r.jsx)(i.Z,{autoFocus:!1,id:"name",name:"name",type:"text",autoComplete:"off",required:!0,width:"full",classNames:"rounded-md",placeholder:"Name",value:e.name,onInput:this.onNameChange,onBlur:this.checkName,hasError:e.hasNameError,errorMessage:e.nameError,showLabel:!0}),(0,r.jsx)(i.Z,{id:"dateOfBirth",name:"dateOfBirth",type:"date",max:(0,b.Z)(new Date,"yyyy-MM-dd"),autoComplete:"off",required:!0,width:"full",classNames:"rounded-md",placeholder:"Date of Birth",value:e.dateOfBirth,onInput:this.onDateOfBirthChange,onBlur:this.checkDateOfBirth,hasError:e.hasDateOfBirthError,errorMessage:e.dateOfBirthError,showLabel:!0}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"gender",className:o().label,children:"Gender"}),(0,r.jsxs)("select",{value:e.gender,id:"gender",name:"gender",onChange:this.onGenderChange,onBlur:this.checkGender,className:"".concat(o().textInput," ").concat(o().textInputFull," ").concat(e.hasGenderError&&o().errorHighlight," rounded-md"),children:[(0,r.jsx)("option",{value:"",children:"Choose a Gender"}),d.e.getAll().map(e=>{let t=d.e.getTitle(e);return(0,r.jsx)("option",{value:e,children:t},t)})]}),(0,r.jsx)("span",{className:o().errorMessage,children:e.hasGenderError?e.genderError:""})]}),(0,r.jsx)(i.Z,{id:"breedName",name:"breedName",type:"text",autoComplete:"off",required:!0,width:"full",classNames:"rounded-md",placeholder:"Breed Name",value:e.breedName,onInput:this.onBreedNameChange,onBlur:this.checkBreedName,hasError:e.hasBreedNameError,errorMessage:e.breedNameError,showLabel:!0}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"colors",className:o().label,children:"Colors"}),(0,r.jsxs)("div",{className:"flex flex-row gap-2 items-center flex-wrap",children:[e.colors.map((e,t)=>(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:{backgroundColor:e},onClick:()=>this.onRemoveColor(t),className:"rounded-full h-[35px] w-[35px] text-center text-xl font-bold ring-1 ring-slate-600",children:(0,r.jsx)("span",{style:{color:N.mostReadable(e,["#fff","#000"],{includeFallbackColors:!0}).toHexString()},className:"opacity-0 hover:opacity-100",children:e?"x":""})}),(0,r.jsx)("input",{ref:e=>this.colorsRefs[t]=e,onInput:e=>this.onColorInput(e,t),type:"color",value:e,className:"sr-only"})]},"".concat(e," ").concat(t))),this.state.vm.colors.length<10&&(0,r.jsx)("button",{type:"button",className:"bg-white text-black rounded-full h-[35px] w-[35px]",onClick:this.onAddColor,children:(0,r.jsx)("div",{className:"text-xl text-center pb-1 font-bold",children:"+"})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"description",className:o().label,children:"Description"}),(0,r.jsx)("textarea",{className:"".concat(o().textInput," rounded-md w-full resize-none"),id:"description",name:"description",rows:1,placeholder:"Description",value:e.description,onInput:this.onDescriptionChange})]}),(0,r.jsx)(i.Z,{id:"microchip",name:"microchip",type:"text",autoComplete:"off",width:"full",classNames:"rounded-md",placeholder:"Microchip",value:e.microchip,onInput:this.onMicrochipChange,showLabel:!0}),(0,r.jsx)(i.Z,{id:"pedigree",name:"pedigree",type:"text",autoComplete:"off",width:"full",classNames:"rounded-md",placeholder:"Pedigree",value:e.pedigree,onInput:this.onPedigreeChange,showLabel:!0}),(0,r.jsxs)("div",{className:"w-full align-center inline-flex rounded-md shadow-sm ",children:[(0,r.jsx)(i.Z,{id:"minWeight",name:"minWeight",type:"text",autoComplete:"off",width:"full",classNames:"rounded-s-md ",placeholder:"Min Weight",value:e.weightMin,onInput:this.onMinWeightChange,showLabel:!0}),(0,r.jsx)(i.Z,{id:"maxWeight",name:"maxWeight",type:"text",autoComplete:"off",width:"full",classNames:"rounded-e-md",placeholder:"Max Weight",value:e.weightMax,onInput:this.onMaxWeightChange,showLabel:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"vetId",className:o().label,children:"Share with vet"}),(0,r.jsxs)("select",{value:e.vetId,id:"vetId",name:"vetId",onChange:this.onVetIdChange,className:"".concat(o().textInput," ").concat(o().textInputFull," ").concat(e.hasGenderError&&o().errorHighlight," rounded-md"),children:[(0,r.jsx)("option",{value:"",children:"Choose a Vet"}),this.state.vets.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.name," ",e.surname," (",e.email,")"]},e.id))]})]}),(0,r.jsx)(c.Z,{message:this.state.serverError},"errorMessage")]}),(0,r.jsxs)("div",{className:"w-full align-center inline-flex rounded-md shadow-sm gap-2",children:[(0,r.jsx)(s.Z,{variant:"secondary",type:"button",title:"Cancel",width:"full",onClick:()=>this.props.router.back()},"Cancel"),(0,r.jsx)(s.Z,{variant:"primary",type:"submit",title:"Update",width:"full",onClick:this.onSubmit},"submit")]})]})}),(0,r.jsx)(w.Z,{ref:e=>this.deleteDialogRef=e,message:"Are you sure you want to delete your pet?",onDelete:this.deletePressed,onCancel:()=>{var e;return null===(e=this.deleteDialogRef)||void 0===e?void 0:e.hide()}})]})}constructor(e){super(e),this.deleteDialogRef=null,this.colorsRefs=[],this.imageInputRef=null,this.initVm=()=>{var e,t,a,r,s,i,n,o,l,c,h;let d=this.state.pet;if(!d)return;let u=this.state.vm;u.avatar=null!==(t=d.avatar)&&void 0!==t?t:"",u.name=null!==(a=d.name)&&void 0!==a?a:"",u.dateOfBirth=d.dateOfBirth?(0,b.Z)(new Date(d.dateOfBirth),"yyyy-MM-dd"):"",u.gender=null!==(r=d.gender)&&void 0!==r?r:"",u.breedName=null!==(s=d.breedName)&&void 0!==s?s:"",u.colors=null!==(i=d.colors)&&void 0!==i?i:[],u.description=null!==(n=d.description)&&void 0!==n?n:"",u.pedigree=null!==(o=d.pedigree)&&void 0!==o?o:"",u.microchip=null!==(l=d.microchip)&&void 0!==l?l:"",u.vetId=null!==(c=null===(e=d.vet)||void 0===e?void 0:e.id)&&void 0!==c?c:"",console.log(d.metas),u.metas=new Map(Object.entries(null!==(h=d.metas)&&void 0!==h?h:{})),this.setState({vm:u})},this.getVets=async()=>{let e=await (0,u.ui)(),t=await e.json();if(e.ok)this.setState({vets:t.filter(e=>void 0!==e.id)});else throw Error(t.error)},this.getPet=async(e,t)=>{if(!e)return;let a=await (0,h.lI)(e,t),r=await a.json();if(a.ok)this.setState({pet:r,token:t},()=>this.initVm());else throw Error(r.error)},this.initPage=e=>{let t=this.props.router.query.id;this.getPet(t,e).catch(e=>this.setState({serverError:e.message}))},this.onNameChange=e=>{let t=this.state.vm;t.name=e,this.setState({vm:t})},this.onDateOfBirthChange=e=>{let t=this.state.vm;t.dateOfBirth=e,this.setState({vm:t})},this.onGenderChange=e=>{let t=this.state.vm;t.gender=e.currentTarget.value,this.setState({vm:t})},this.onBreedNameChange=e=>{let t=this.state.vm;t.breedName=e,this.setState({vm:t})},this.onDescriptionChange=e=>{let t=this.state.vm;t.description=e.currentTarget.value,this.setState({vm:t})},this.onPedigreeChange=e=>{let t=this.state.vm;t.pedigree=e,this.setState({vm:t})},this.onMicrochipChange=e=>{let t=this.state.vm;t.microchip=e,this.setState({vm:t})},this.onMinWeightChange=e=>{let t=this.state.vm;t.weightMin=e,this.setState({vm:t})},this.onMaxWeightChange=e=>{let t=this.state.vm;t.weightMax=e,this.setState({vm:t})},this.onVetIdChange=e=>{let t=this.state.vm;t.vetId=e.currentTarget.value,this.setState({vm:t})},this.navigateToPetPage=e=>{this.props.router.replace("/pet/".concat(e))},this.onSubmit=async()=>{var e,t;if(this.state.vm.validate(),console.log(this.state.vm),!this.state.vm.isValid||!this.state.token){this.forceUpdate();return}let a=await (0,h.mF)(this.state.vm,this.state.pet.id,this.state.token),r=await a.json();a.ok?this.navigateToPetPage(null===(e=this.state.pet)||void 0===e?void 0:e.id):401===a.status?(this.logout(),this.props.router.replace("/auth/login")):this.setState({serverError:null!==(t=r.error)&&void 0!==t?t:""})},this.checkName=()=>{this.state.vm.checkName(),this.forceUpdate()},this.checkDateOfBirth=()=>{this.state.vm.checkDateOfBirth(),this.forceUpdate()},this.checkGender=()=>{this.state.vm.checkGender(),this.forceUpdate()},this.checkBreedName=()=>{this.state.vm.checkBreedName(),this.forceUpdate()},this.onColorInput=(e,t)=>{let a=this.state.vm.colors;a[t]=e.currentTarget.value,this.setState({vm:this.state.vm})},this.onAddColor=()=>{let e=this.state.vm.colors;e.push(""),this.setState({vm:this.state.vm},()=>{setTimeout(()=>{var e;return null===(e=this.colorsRefs[this.state.vm.colors.length-1])||void 0===e?void 0:e.click()},0)})},this.onRemoveColor=e=>{let t=this.state.vm;t.colors.splice(e,1),this.setState({vm:t})},this.onImageChange=e=>{this.uploadImage(e).catch(e=>console.error(e))},this.convertBase64=e=>new Promise((t,a)=>{let r=new FileReader;r.readAsDataURL(e),r.onload=()=>{t(r.result)},r.onerror=e=>{a(e)}}),this.uploadImage=async e=>{let t=e.target.files[0];try{let e=await this.convertBase64(t),a=this.state.vm;a.avatar=e,this.setState({vm:a})}catch(e){console.error(e)}},this.deletePressed=async()=>{var e;null===(e=this.deleteDialogRef)||void 0===e||e.hide();let t=this.props.router.query.id;if(!t)return;let a=await (0,h.jL)(t,this.state.token);if(a.ok)this.props.router.replace("/");else{let e=await a.json();this.setState({serverError:e.error},()=>setTimeout(()=>this.props.router.replace("/"),3e3))}},this.state={vm:new x,vets:[],focusColor:!1,avatarColors:[]}}}var E=(0,l.withRouter)(C)},83365:function(e){e.exports={btn:"button_btn__w__d1",btnFull:"button_btnFull__Q8iU8",btnPrimary:"button_btnPrimary__b_fGY",btnSecondary:"button_btnSecondary__Vaxi0",btnGroup:"button_btnGroup__zeRjm",btnPrimaryDisabled:"button_btnPrimaryDisabled__9IQhk",btnSecondaryDisabled:"button_btnSecondaryDisabled__eLBdY"}},16449:function(e){e.exports={modalContainer:"deleteModal_modalContainer__uCkMp",modal:"deleteModal_modal__xMA7r",content:"deleteModal_content__DXxjF",btnDelete:"deleteModal_btnDelete__EvPUt",btnCancel:"deleteModal_btnCancel__KYxQa",message:"deleteModal_message__QuWz0",iconButton:"deleteModal_iconButton__NyCIg",btnPrimaryDisabled:"deleteModal_btnPrimaryDisabled__LYe2S",btnSecondaryDisabled:"deleteModal_btnSecondaryDisabled__sQwls"}},83815:function(e){e.exports={textInput:"textInput_textInput__rwYXO",textInputText:"textInput_textInputText__RbFSM",label:"textInput_label__IpSov",textInputFull:"textInput_textInputFull__BtdFB",errorHighlight:"textInput_errorHighlight__6WM_d",errorMessage:"textInput_errorMessage__2Uw_U",textInputContainer:"textInput_textInputContainer__hcS5_",phoneInput:"textInput_phoneInput__ILwRV",phoneInputFull:"textInput_phoneInputFull__VL9NH"}},78017:function(e,t,a){"use strict";var r=a(67294);let s=r.forwardRef(function({title:e,titleId:t,...a},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{fillRule:"evenodd",d:"M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.52.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5zM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4zM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5z",clipRule:"evenodd"}))});t.Z=s},25652:function(e,t,a){"use strict";var r=a(67294);let s=r.forwardRef(function({title:e,titleId:t,...a},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"}))});t.Z=s},6244:function(e,t,a){"use strict";var r=a(67294);let s=r.forwardRef(function({title:e,titleId:t,...a},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"}))});t.Z=s}},function(e){e.O(0,[675,706,961,201,255,774,888,179],function(){return e(e.s=97427)}),_N_E=e.O()}]);